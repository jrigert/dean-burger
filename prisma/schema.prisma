generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("POSTGRES_PRISMA_URL")
}

model orders {
  id          Int           @id @default(autoincrement())
  user_id     Int?          @unique(map: "unique_user")
  order_items order_items[]
  users       users?        @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "fk_user")
}

model order_items {
  id         Int    @id @default(autoincrement())
  order_id   Int
  product_id String @db.VarChar(10)
  quantity   Int
  orders     orders @relation(fields: [order_id], references: [id], onDelete: NoAction, onUpdate: NoAction)

  @@unique([order_id, product_id], map: "unique_order_product")
  @@unique([order_id, product_id], map: "unique_order_product_index")
}

model users {
  id         Int     @id @default(autoincrement())
  email      String  @unique @db.VarChar(100)
  password   String  @db.VarChar(100)
  first_name String  @db.VarChar(100)
  orders     orders?
}
